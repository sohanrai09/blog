<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="At the end of my previous 
  blog post I mentioned about wanting to work on 
  Textual, and I&rsquo;m excited to share here my first project using Textual. I feel like for us network engineers, working on a CLI makes our work more enjoyable so naturally, building a TUI(Terminal User Interface) to do some of the automation tasks was a no-brainer to me. I have called it Net-TUI, a TUI application to do few network automation tasks."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://sohanrai09.github.io/blog/posts/network-tui/"><meta property="og:site_name" content="Sohan’s blog"><meta property="og:title" content="Network Tui"><meta property="og:description" content="At the end of my previous blog post I mentioned about wanting to work on Textual, and I’m excited to share here my first project using Textual. I feel like for us network engineers, working on a CLI makes our work more enjoyable so naturally, building a TUI(Terminal User Interface) to do some of the automation tasks was a no-brainer to me. I have called it Net-TUI, a TUI application to do few network automation tasks."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-03T18:28:20+05:30"><meta property="article:modified_time" content="2023-08-03T18:28:20+05:30"><title>Network Tui | Sohan’s blog</title>
<link rel=icon href=/blog/favicon.png><link rel=manifest href=/blog/manifest.json><link rel=canonical href=https://sohanrai09.github.io/blog/posts/network-tui/><link rel=stylesheet href=/blog/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/blog/fuse.min.js></script><script defer src=/blog/en.search.min.bc7a453251a63831ad73b025b31e0afdf9209657676dc634e71cf07fdde9a58e.js integrity="sha256-vHpFMlGmODGtc7Alsx4K/fkglldnbcY05xzwf93ppY4=" crossorigin=anonymous></script><script defer src=/blog/sw.min.f4bc4151631c92d29816d24dfaacb947aa6b03f91ec1c0cd2738ba8957d04791.js integrity="sha256-9LxBUWMcktKYFtJN+qy5R6prA/kewcDNJzi6iVfQR5E=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/blog/><img src=/static/images/cover_img.png alt=Logo class=book-icon><span>Sohan’s blog</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=https://github.com/sohanrai09 target=_blank rel=noopener>Github</a></li><li><a href=https://twitter.com/SohanRai23 target=_blank rel=noopener>Twitter</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/blog/svg/menu.svg class=book-icon alt=Menu></label><h3>Network Tui</h3><label for=toc-control><img src=/blog/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#net-tui>Net-TUI</a></li><li><a href=#dashboard>Dashboard</a></li><li><a href=#checker>Checker</a></li><li><a href=#generator>Generator</a></li></ul></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h2>Network Tui</h2><div class="flex align-center text-small book-post-date"><img src=/blog/svg/calendar.svg class=book-icon alt>
<span>Aug 3, 2023</span></div><div class=book-post-content><p>At the end of my previous
<a href=https://sohanrai09.github.io/new-blog/2023/04/network-dashboard/>blog post</a> I mentioned about wanting to work on
<a href=https://textual.textualize.io/>Textual</a>, and I&rsquo;m excited to share here my first project using Textual. I feel like for us network engineers, working on a CLI makes our work more enjoyable so naturally, building a TUI(Terminal User Interface) to do some of the automation tasks was a no-brainer to me. I have called it <code>Net-TUI</code>, a TUI application to do few network automation tasks.</p><h3 id=net-tui>Net-TUI
<a class=anchor href=#net-tui>#</a></h3><p>As mentioned earlier, I&rsquo;m using <code>Textual</code> to build the TUI App and to help me with networking tasks, I&rsquo;m using
<a href=https://nornir.readthedocs.io/en/latest/>Nornir</a>. <code>Net-TUI</code> is broadly split into three sections. 1.Dashboard 2.Checker and 3.Generator. I will be going through each of these in the following sections.</p><h3 id=dashboard>Dashboard
<a class=anchor href=#dashboard>#</a></h3><p>To anyone following my blog, you would know that I went over building a Networking Dashboard in the previous
<a href=https://sohanrai09.github.io/new-blog/2023/04/network-dashboard/>blog post</a>. I&rsquo;m using it as a reference here with some enhancements and user interactions to make it more &lsquo;App like&rsquo;. Below is the snippet of how it looks like when the App is launched. As you can see, user has an option to provide the <code>device name</code> of which they want to build the Dashboard off. <code>device name</code> input comes with a nice little <code>dropdown</code> and <code>autocomplete</code> feature, which in this case is the list of available devices from the Nornir Inventory, which gets &lsquo;autocompleted&rsquo; as we type along.</p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_dash1.png?raw=true" alt=tui_dash1></p><p>Without going into more details of the data shown in Dashboard, as I have explained it my previous blog post, I would like to highlight few enhancements made to it. Unlike the previous version of Dashboard where the routing protocols were pre defined, in this version, there is an intelligence built to identify the protocols currently configured on the device and then build the Dashboard around that. As of now this is limited to some of the well-known protocols like BGP, ISIS, OSPF, MPLS, LDP but this can be easily extended to include anything else. Below snippet shows the end result of Dashboard.</p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_dash2.png?raw=true" alt=tui_dash2></p><h3 id=checker>Checker
<a class=anchor href=#checker>#</a></h3><p>This section has three sub-categories, each with an interesting function associated with them.</p><ol><li><h4 id=card-look-up>Card Look-up
<a class=anchor href=#card-look-up>#</a></h4><p>As the name suggests, this function can be used to look-up any particular card/FPC across the inventory of hosts as defined in Nornir. Input for card name again comes with a <code>dropdown</code> and <code>autocomplete</code> feature. Any matches to the card will be displayed along with the device name and FPC Slot information. If no matches are found, same will be displayed to the user. I found this feature to be quite handy as I have to deal with a huge inventory of devices at work and this gives a quick and easy way of knowing the cards deployed currently in the network. List of cards which is used to provide the <code>dropdown</code> options currently comes from a static file but a future enhancement could be to retrieve that information dynamically from Juniper/vendor websites.</p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_card.png?raw=true" alt=tui_card></p></li><li><h4 id=config-search>Config search
<a class=anchor href=#config-search>#</a></h4><p>This function can be used to quickly scan through the configuration of all the devices for any particular pattern match. Let&rsquo;s assume we want to check if a particular user is configured on all the devices or if we have RE(Routing Engine) Filter configured on all devices, this can help with these tasks and many more. Any matches found in the configuration will be displayed along with the device name.</p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_config.png?raw=true" alt=tui_config></p></li><li><h4 id=fetching-command-output>Fetching Command output
<a class=anchor href=#fetching-command-output>#</a></h4><p>This function helps in retrieving the output of any given CLI command from all the devices. Again, the available commands are displayed as <code>dropdown</code> with <code>autocomplete</code>feature. List of commands comes from a static file, so one can add any commands they would like to offer the user as an option to execute. Output of the commands will be displayed along with the device name.</p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_cmd_out.png?raw=true" alt=tui_cmd_out></p></li></ol><h3 id=generator>Generator
<a class=anchor href=#generator>#</a></h3><p>My inspiration to this section comes from my days at Network Ops where every other day I used to work on some maintenance activities and with this comes the crucial part of pre and post network validation. Since each device we work on can be different, we could not always have the same checks for validation. Generator solves this problem by generating a list of commands as per the protocols configured on the device. User also has an option to select if they would want <code>terse</code> or <code>verbose</code> level of commands and the commands are generated accordingly, with <code>terse</code> being the default. Commands for each protocols are pre defined in a <code>YAML</code> file and one can make any changes to it as per their business needs. Once the commands are generated, user can either copy it to a clipboard using <code>Copy to clipboard</code> button at the <code>Footer</code> of the App or by simply pressing <code>c</code> in the keyboard. A pop-up notification is generated to confirm that commands are copied to the clipboard. But better yet, if the user wishes to run the commands and fetch the output from the device, they can use <code>Fetch output</code> or pressing <code>f</code>. The App would then connect to the device and execute the commands and store the output in a .txt file, which will be displayed to the user at the end.</p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_gen_out1.png?raw=true" alt=tui_gen_out1></p><p><img src="https://github.com/sohanrai09/blog/blob/main/static/images/tui_gen_out2.png?raw=true" alt=tui_gen_out2></p><p>I honestly think that this blog post, with the screenshots, doesn&rsquo;t do justice to the TUI App. Please check out the screen recording
<a href=https://github.com/sohanrai09/net_tui/assets/89385413/38decade-628d-4414-91ac-6b748ee37be4>here</a>
to truly appreciate the beauty of Textual. This probably is the simplest version of TUIs out there but hopefully it goes to show what&rsquo;s possible with
<a href=https://textual.textualize.io/>Textual</a>. Folks at Textual are adding new and interesting features regularly which gives us users more options to play with to customize our TUI Apps. This project has been the most fun filled projects I have worked on and hopefully I&rsquo;ve been able to capture and present that here. Please feel free to reach out to me in case you need any further clarifications, code repository can be found
<a href=https://github.com/sohanrai09/net_tui>here</a>. Checkout another great Network TUI built by
<a href="https://twitter.com/devnetdan?s=20">Danny Wade</a> called
<a href=https://github.com/dannywade/net-textorial>net-textorial</a> and give him a follow as he is doing amazing things in the Network Automation field.</p><p>Thank you!</p></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/master/exampleSite/content/posts/network-tui.md target=_blank rel=noopener><img src=/blog/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#net-tui>Net-TUI</a></li><li><a href=#dashboard>Dashboard</a></li><li><a href=#checker>Checker</a></li><li><a href=#generator>Generator</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>